<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Blockade</title>
		<link rel="stylesheet" href="css/bootstrap.css" title="dark">
		<link rel="stylesheet" href="css/blockade.css">
		<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
		<style>
			span.label {
				padding-top: 3.375px;
			}
			.label-purple {
				background-color: #9C27B0;
			}
		</style>
	</head>
	<body style="font-family: Hasklig; -webkit-user-select: none; cursor: default; opacity: 0.0;">
		<div class="container-fluid drag-bar"></div>
		<div class="container centered" align="center">
			<h1 style="font-family: Hasklig; font-size: 80px; margin-top: 0px; margin-bottom: 0px;">「Blockade」</h1><br><br>
			<div style="width: 300px; margin-bottom: 12px;">
				<a href="levelselect.html" id="play" class="btn btn-default btn-lg btn-block">Play</a><br>
				<a href="editor.html?play=0" id="editor" class="btn btn-default btn-lg btn-block">Editor</a><br>
				<!--a href="#" id="about" class="btn btn-default btn-lg btn-block modal-button" data-toggle="modal" data-target="#about-modal">About</a><br-->
				<a href="#" id="about" class="btn btn-default btn-lg btn-block">About</a><br>
				<a href="#" id="quit" class="btn btn-default btn-lg btn-block">Quit</a>
			</div>
		</div>
		<!--span class="label label-default" style="position: absolute; left: 6px; bottom: 6px;"><span style="font-family: Verdana">©</span> Cooper Anderson 2016</span-->
		<span id="version" class="label" style="position: absolute; right: 6px; bottom: 6px;"></span>
		<div id="about-modal" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="btn close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">About</h4>
					</div>
					<div class="modal-body" style="-webkit-user-select: auto; cursor: auto;">
						<p>Blockade is a minimal grid-based puzzle game that is inspired by the ice puzzles in The Legend of Zelda: Twilight Princess.</p>
						<p>Programming:</p>
						<ul>
							<li>Cooper Anderson</li>
							<li>Grady Shoemaker</li>
						</ul>
						<p>Level Design:</p>
						<ul>
							<li>Grady Shoemaker</li>
							<li>Cooper Anderson</li>
							<li>Jack Warner</li>
						</ul>
						<p>Special Thanks:</p>
						<ul>
							<li>Antony Suarez</li>
							<li>Fernando Morales</li>
						</ul>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script>
		$(document).ready(function() {
			$("body").animate({opacity: 1.0}, 100);
		});

		const remote = require("electron").remote
		const fs = remote.require("fs")

		$(".btn").attr("draggable", "false");

		$(".btn").on("mouseup mouseleave", function() {
			$(this).blur();
		});
		$("#about").on("click", function() {
			$("#about-modal").modal("show");
		});
		$("#quit").on("click", function(event) {
			event.preventDefault()
			remote.app.quit()
		});
		$(document).on("keydown", function(event) {
			if (event.key == '|') {
				location = "testing.html";
			}
		});

		data = JSON.parse(fs.readFileSync(`${__dirname}/../../package.json`,'utf8'))
		if (data.release == "indev") {
			$("#version").addClass("label-danger").addClass("label-purple");
		} else if (data.release == "alpha") {
			$("#version").addClass("label-danger");
		} else if (data.release == "beta") {
			$("#version").addClass("label-warning");
		} else if (data.release == "stable") {
			$("#version").addClass("label-success");
		} else if (data.release == "release") {
			$("#version").addClass("label-primary");
		}
		$("#version").html(data.release + " " + data.version)
	</script>
</html>
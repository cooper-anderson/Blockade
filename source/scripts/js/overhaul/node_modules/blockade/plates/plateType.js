class PlateType {
	constructor() {

	}

	detect(instance) {
		let block = instance.game.getBlock(instance.position);
		if (block === undefined) return false;
		if (instance.color !== block.color) return false;
		if (instance.color !== 0 && block.color !== 0) return false;
		return Vector2.equals(block.velocity, Vector2.zero);
	}

	/**
	 * Update an instance of this PlateType
	 * @param {Plate} instance
	 */
	update(instance) {
		if (instance.pressed !== this.detect(instance)) {
			instance.pressed = !instance.pressed;
			instance.changed = true;
		}
	}
}

module.exports = {PlateType};